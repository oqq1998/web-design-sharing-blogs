webpackJsonp([5],{R6sS:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("ZYmg"),s={data:function(){return{blogId:null,title:"",description:"",content:"",atIndex:!1,titleMaxLength:50,descriptionMaxLength:200}},created:function(){var t=this;this.blogId=this.$route.params.blogId,n.a.getDetail({blogId:this.blogId}).then(function(e){t.title=e.data.title,t.description=e.data.description,t.content=e.data.content,t.atIndex=e.data.atIndex})},methods:{onEdit:function(){var t=this;n.a.updateBlog({blogId:this.blogId},{title:this.title,content:this.content,description:this.description,atIndex:this.atIndex}).then(function(e){t.$message.success(e.msg),t.$router.push({path:"/detail/"+e.data.id})})}},watch:{title:function(){this.title.length>this.titleMaxLength&&(this.title=String(this.title).slice(0,this.titleMaxLength))},description:function(){this.description.length>this.descriptionMaxLength&&(this.description=String(this.description).slice(0,this.descriptionMaxLength))}}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"edit"},[i("h2",[t._v("编辑博客")]),t._v(" "),i("h3",[t._v("标题")]),t._v(" "),i("el-input",{attrs:{placeholder:"最大长度50字符"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._v(" "),i("p",[t._v(t._s(t.title.length)+" / "+t._s(t.titleMaxLength))]),t._v(" "),i("h3",[t._v("简介")]),t._v(" "),i("el-input",{attrs:{type:"textarea",placeholder:"最大长度300字符",autosize:{minRows:2,maxRows:4}},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),t._v(" "),i("p",[t._v(t._s(t.description.length)+" / "+t._s(t.descriptionMaxLength))]),t._v(" "),i("h3",[t._v("内容")]),t._v(" "),i("el-input",{attrs:{type:"textarea",placeholder:"博客内容",autosize:{minRows:20,maxRows:40}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),t._v(" "),i("el-button",{on:{click:t.onEdit}},[t._v("确定")])],1)},staticRenderFns:[]};var o=i("VU/8")(s,a,!1,function(t){i("nKH7")},"data-v-763c7713",null);e.default=o.exports},nKH7:function(t,e){}});
//# sourceMappingURL=5.57ab4e26197d710cfeac.js.map